defaults:
  seismogram:
    tbeg: -30              # Cutting time: start (seconds)
    tend: 150              # Cutting time: end (seconds)
    tcor: 0.0              # Systematic time shift to correct (if any)
    dt: 0.0325             # Resampling rate for both data and synthetics
    component:
      COMP: semv           # Synthetic component to use
      EN2RT: 0             # Rotate E & N to R & T (1: yes, 0: no)
    fine_tune:
      EGF:
        criteria:
          n_wavelength: 2.0        # Distance threshold = P2 * n_wavelength * ref_velocity_km_s
          ref_velocity_km_s: 3.5   # Reference velocity for wavelength (km/s)
    weighting:
      type: amplitude           # amplitude: weight by amplitude; user: user-defined weight
      
datasets:
  # Specify the parameters of a specific dataset here.
  # - name: the name of this dataset, used to be file suffix
  # - data: parameters for observed data
  #   - waveform_dir: directory under DATA/ where observed waveforms are stored
  # - synthetics: parameters for synthetic data
  #   - do_wave_simulation: 1: simulate synthetics, 0: skip simulation
  #   - waveform_dir: directory under SYN/ where synthetic waveforms are stored (do_wave_simulation=1) 
  #                         or read from (do_wave_simulation=0)                      
  # - source: source type (cmt, force) 
  # - list: event/station list under DATA/evlst and DATA/stlst, respectively
  # - seismogram: seismogram parameters
  #  - filter: {P1: min period, P2: max period} for bandpass filter
  - name: EQ_10_30s
    data:
      waveform_dir: wav_EQ
    synthetics:
      do_wave_simulation: 1
      waveform_dir: SYN_EQ
    flexwin:
      par_file: Joint_par_and_bin/EQ_10_30/PAR_FILE      # **(under FLEXWIN/)** the parameter file for FLEXWIN
      bin_file: Joint_par_and_bin/EQ_10_30/flexwin    # **(under FLEXWIN/)** the directory to store time-windows picked by FLEXWIN
    measure_adj:
      par_file: Joint_par/EQ_10_30/MEASUREMENT.PAR  # **(under MEASURE_ADJ/)** the parameter file for measuring adjoint sources
      bin_file: measure_adj
    source:
      type: cmt
    list:
      evlst: cmt_evt_test.txt
      evchk: cmt_evt_test.txt
      stlst: sta_new_remove_western.txt
    seismogram:
      filter: {P1: 10, P2: 30}
    inversion:
      weight: 0.5
      smoothing:
        ISMOOTH: 1            # Smooth kernel (1: yes, 0: no)
        smooth_par_gradient:
          SIGMA_H: 20000        # Horizontal smoothing width (m)
          SIGMA_V: 15000         # Vertical smoothing width (m)
  
  # - name: EQ_6_12s
  #   data:
  #     waveform_dir: wav_EQ
  #   synthetics:
  #     do_wave_simulation: 0
  #     waveform_dir: SYN_EQ   
  #   flexwin:
  #     par_file: Par_file_EQ_6_12s      # **(under FLEXWIN/)** the parameter file for FLEXWIN
  #     bin_dir: flexwin_EQ_6_12s    # **(under FLEXWIN/)** the directory to store time-windows picked by FLEXWIN
  #   measure_adj:
  #     bin_dir: measure_adj
  #     par_file: MEASURE_EQ_6_12s.PAR  # **(under MEASURE_ADJ/)** the parameter file for measuring adjoint sources
  #   source:
  #     type: cmt
  #   list:
  #     evlst: cmt_evt_test.txt
  #     evchk: cmt_evt_test.txt
  #     stlst: sta_new_remove_western.txt
  #   seismogram:
  #     filter: {P1: 6, P2: 12}
  #   inversion:
  #     weight: 0.5

  - name: EGF_8_18s
    data:
      waveform_dir: wav_EGF
    synthetics:
      do_wave_simulation: 1
      waveform_dir: SYN_EGF
    flexwin:
      par_file: Joint_par_and_bin/EGF_8_18/PAR_FILE      # **(under FLEXWIN/)** the parameter file for FLEXWIN
      bin_file: Joint_par_and_bin/EGF_8_18/flexwin     # **(under FLEXWIN/)** the directory to store time-windows picked by FLEXWIN
    measure_adj:
      par_file: Joint_par/EGF_8_18/MEASUREMENT.PAR  # **(under MEASURE_ADJ/)** the parameter file for measuring adjoint sources
      bin_file: measure_adj
    source:
      type: force
    list:
      evlst: force_evt_test.txt
      evchk: force_evt_test.txt
      stlst: sta_91_EGF.txt
    seismogram:
      filter: {P1: 8, P2: 18}
    inversion:
      weight: 0.5
      smoothing:
        ISMOOTH: 1            # Smooth kernel (1: yes, 0: no)
        smooth_par_gradient:
          SIGMA_H: 20000        # Horizontal smoothing width (m)
          SIGMA_V: 15000         # Vertical smoothing width (m)